"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@auth";
exports.ids = ["vendor-chunks/@auth"];
exports.modules = {

/***/ "(rsc)/./node_modules/@auth/mongodb-adapter/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/mongodb-adapter/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MongoDBAdapter: () => (/* binding */ MongoDBAdapter),\n/* harmony export */   _id: () => (/* binding */ _id),\n/* harmony export */   defaultCollections: () => (/* binding */ defaultCollections),\n/* harmony export */   format: () => (/* binding */ format)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\nvar __addDisposableResource = undefined && undefined.__addDisposableResource || function(env, value, async) {\n    if (value !== null && value !== void 0) {\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n        var dispose;\n        if (async) {\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n            dispose = value[Symbol.asyncDispose];\n        }\n        if (dispose === void 0) {\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n            dispose = value[Symbol.dispose];\n        }\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n        env.stack.push({\n            value: value,\n            dispose: dispose,\n            async: async\n        });\n    } else if (async) {\n        env.stack.push({\n            async: true\n        });\n    }\n    return value;\n};\nvar __disposeResources = undefined && undefined.__disposeResources || function(SuppressedError1) {\n    return function(env) {\n        function fail(e) {\n            env.error = env.hasError ? new SuppressedError1(e, env.error, \"An error was suppressed during disposal.\") : e;\n            env.hasError = true;\n        }\n        function next() {\n            while(env.stack.length){\n                var rec = env.stack.pop();\n                try {\n                    var result = rec.dispose && rec.dispose.call(rec.value);\n                    if (rec.async) return Promise.resolve(result).then(next, function(e) {\n                        fail(e);\n                        return next();\n                    });\n                } catch (e) {\n                    fail(e);\n                }\n            }\n            if (env.hasError) throw env.error;\n        }\n        return next();\n    };\n}(typeof SuppressedError === \"function\" ? SuppressedError : function(error, suppressed, message) {\n    var e = new Error(message);\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n});\n/**\n * <div style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: 16}}>\n *  <p>Official <a href=\"https://www.mongodb.com\">MongoDB</a> adapter for Auth.js / NextAuth.js.</p>\n *  <a href=\"https://www.mongodb.com\">\n *   <img style={{display: \"block\"}} src=\"https://authjs.dev/img/adapters/mongodb.svg\" width=\"30\" />\n *  </a>\n * </div>\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/mongodb-adapter mongodb\n * ```\n *\n * @module @auth/mongodb-adapter\n */ \n/**\n * This adapter uses https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-2.html#using-declarations-and-explicit-resource-management.\n * This feature is very new and requires runtime polyfills for `Symbol.asyncDispose` in order to work properly in all environments.\n * It is also required to set in the `tsconfig.json` file the compilation target to `es2022` or below and configure the `lib` option to include `esnext` or `esnext.disposable`.\n *\n * You can find more information about this feature and the polyfills in the link above.\n */ // @ts-expect-error read only property is not assignable\nSymbol.asyncDispose ?? (Symbol.asyncDispose = Symbol(\"Symbol.asyncDispose\"));\nconst defaultCollections = {\n    Users: \"users\",\n    Accounts: \"accounts\",\n    Sessions: \"sessions\",\n    VerificationTokens: \"verification_tokens\"\n};\nconst format = {\n    /** Takes a MongoDB object and returns a plain old JavaScript object */ from (object) {\n        const newObject = {};\n        for(const key in object){\n            const value = object[key];\n            if (key === \"_id\") {\n                newObject.id = value.toHexString();\n            } else if (key === \"userId\") {\n                newObject[key] = value.toHexString();\n            } else {\n                newObject[key] = value;\n            }\n        }\n        return newObject;\n    },\n    /** Takes a plain old JavaScript object and turns it into a MongoDB object */ to (object) {\n        const newObject = {\n            _id: _id(object.id)\n        };\n        for(const key in object){\n            const value = object[key];\n            if (key === \"userId\") newObject[key] = _id(value);\n            else if (key === \"id\") continue;\n            else newObject[key] = value;\n        }\n        return newObject;\n    }\n};\n/** @internal */ function _id(hex) {\n    if (hex?.length !== 24) return new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId();\n    return new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(hex);\n}\nfunction MongoDBAdapter(/**\n * The MongoDB client.\n *\n * The MongoDB team recommends providing a non-connected `MongoClient` instance to avoid unhandled promise rejections if the client fails to connect.\n *\n * Alternatively, you can also pass:\n * - A promise that resolves to a connected `MongoClient` (not recommended).\n * - A function, to handle more complex and custom connection strategies.\n *\n * Using a function that returns `MongoClient | Promise<MongoClient>`, combined with `options.onClose`, can be useful when you want a more advanced and customized connection strategy to address challenges related to persistence, container reuse, and connection closure.\n */ client, options = {}) {\n    const { collections } = options;\n    const { from, to } = format;\n    const getDb = async ()=>{\n        const _client = await (typeof client === \"function\" ? client() : client);\n        const _db = _client.db(options.databaseName);\n        const c = {\n            ...defaultCollections,\n            ...collections\n        };\n        return {\n            U: _db.collection(c.Users),\n            A: _db.collection(c.Accounts),\n            S: _db.collection(c.Sessions),\n            V: _db.collection(c?.VerificationTokens),\n            [Symbol.asyncDispose]: async ()=>{\n                await options.onClose?.(_client);\n            }\n        };\n    };\n    return {\n        async createUser (data) {\n            const env_1 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const user = to(data);\n                const db = __addDisposableResource(env_1, await getDb(), true);\n                await db.U.insertOne(user);\n                return from(user);\n            } catch (e_1) {\n                env_1.error = e_1;\n                env_1.hasError = true;\n            } finally{\n                const result_1 = __disposeResources(env_1);\n                if (result_1) await result_1;\n            }\n        },\n        async getUser (id) {\n            const env_2 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_2, await getDb(), true);\n                const user = await db.U.findOne({\n                    _id: _id(id)\n                });\n                if (!user) return null;\n                return from(user);\n            } catch (e_2) {\n                env_2.error = e_2;\n                env_2.hasError = true;\n            } finally{\n                const result_2 = __disposeResources(env_2);\n                if (result_2) await result_2;\n            }\n        },\n        async getUserByEmail (email) {\n            const env_3 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_3, await getDb(), true);\n                const user = await db.U.findOne({\n                    email\n                });\n                if (!user) return null;\n                return from(user);\n            } catch (e_3) {\n                env_3.error = e_3;\n                env_3.hasError = true;\n            } finally{\n                const result_3 = __disposeResources(env_3);\n                if (result_3) await result_3;\n            }\n        },\n        async getUserByAccount (provider_providerAccountId) {\n            const env_4 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_4, await getDb(), true);\n                const account = await db.A.findOne(provider_providerAccountId);\n                if (!account) return null;\n                const user = await db.U.findOne({\n                    _id: new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(account.userId)\n                });\n                if (!user) return null;\n                return from(user);\n            } catch (e_4) {\n                env_4.error = e_4;\n                env_4.hasError = true;\n            } finally{\n                const result_4 = __disposeResources(env_4);\n                if (result_4) await result_4;\n            }\n        },\n        async updateUser (data) {\n            const env_5 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const { _id, ...user } = to(data);\n                const db = __addDisposableResource(env_5, await getDb(), true);\n                const result = await db.U.findOneAndUpdate({\n                    _id\n                }, {\n                    $set: user\n                }, {\n                    returnDocument: \"after\"\n                });\n                return from(result);\n            } catch (e_5) {\n                env_5.error = e_5;\n                env_5.hasError = true;\n            } finally{\n                const result_5 = __disposeResources(env_5);\n                if (result_5) await result_5;\n            }\n        },\n        async deleteUser (id) {\n            const env_6 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const userId = _id(id);\n                const db = __addDisposableResource(env_6, await getDb(), true);\n                await Promise.all([\n                    db.A.deleteMany({\n                        userId: userId\n                    }),\n                    db.S.deleteMany({\n                        userId: userId\n                    }),\n                    db.U.deleteOne({\n                        _id: userId\n                    })\n                ]);\n            } catch (e_6) {\n                env_6.error = e_6;\n                env_6.hasError = true;\n            } finally{\n                const result_6 = __disposeResources(env_6);\n                if (result_6) await result_6;\n            }\n        },\n        linkAccount: async (data)=>{\n            const env_7 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const account = to(data);\n                const db = __addDisposableResource(env_7, await getDb(), true);\n                await db.A.insertOne(account);\n                return account;\n            } catch (e_7) {\n                env_7.error = e_7;\n                env_7.hasError = true;\n            } finally{\n                const result_7 = __disposeResources(env_7);\n                if (result_7) await result_7;\n            }\n        },\n        async unlinkAccount (provider_providerAccountId) {\n            const env_8 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_8, await getDb(), true);\n                const account = await db.A.findOneAndDelete(provider_providerAccountId);\n                return from(account);\n            } catch (e_8) {\n                env_8.error = e_8;\n                env_8.hasError = true;\n            } finally{\n                const result_8 = __disposeResources(env_8);\n                if (result_8) await result_8;\n            }\n        },\n        async getSessionAndUser (sessionToken) {\n            const env_9 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_9, await getDb(), true);\n                const session = await db.S.findOne({\n                    sessionToken\n                });\n                if (!session) return null;\n                const user = await db.U.findOne({\n                    _id: new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(session.userId)\n                });\n                if (!user) return null;\n                return {\n                    user: from(user),\n                    session: from(session)\n                };\n            } catch (e_9) {\n                env_9.error = e_9;\n                env_9.hasError = true;\n            } finally{\n                const result_9 = __disposeResources(env_9);\n                if (result_9) await result_9;\n            }\n        },\n        async createSession (data) {\n            const env_10 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const session = to(data);\n                const db = __addDisposableResource(env_10, await getDb(), true);\n                await db.S.insertOne(session);\n                return from(session);\n            } catch (e_10) {\n                env_10.error = e_10;\n                env_10.hasError = true;\n            } finally{\n                const result_10 = __disposeResources(env_10);\n                if (result_10) await result_10;\n            }\n        },\n        async updateSession (data) {\n            const env_11 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const { _id, ...session } = to(data);\n                const db = __addDisposableResource(env_11, await getDb(), true);\n                const updatedSession = await db.S.findOneAndUpdate({\n                    sessionToken: session.sessionToken\n                }, {\n                    $set: session\n                }, {\n                    returnDocument: \"after\"\n                });\n                return from(updatedSession);\n            } catch (e_11) {\n                env_11.error = e_11;\n                env_11.hasError = true;\n            } finally{\n                const result_11 = __disposeResources(env_11);\n                if (result_11) await result_11;\n            }\n        },\n        async deleteSession (sessionToken) {\n            const env_12 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_12, await getDb(), true);\n                const session = await db.S.findOneAndDelete({\n                    sessionToken\n                });\n                return from(session);\n            } catch (e_12) {\n                env_12.error = e_12;\n                env_12.hasError = true;\n            } finally{\n                const result_12 = __disposeResources(env_12);\n                if (result_12) await result_12;\n            }\n        },\n        async createVerificationToken (data) {\n            const env_13 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_13, await getDb(), true);\n                await db.V.insertOne(to(data));\n                return data;\n            } catch (e_13) {\n                env_13.error = e_13;\n                env_13.hasError = true;\n            } finally{\n                const result_13 = __disposeResources(env_13);\n                if (result_13) await result_13;\n            }\n        },\n        async useVerificationToken (identifier_token) {\n            const env_14 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_14, await getDb(), true);\n                const verificationToken = await db.V.findOneAndDelete(identifier_token);\n                if (!verificationToken) return null;\n                const { _id, ...rest } = verificationToken;\n                return rest;\n            } catch (e_14) {\n                env_14.error = e_14;\n                env_14.hasError = true;\n            } finally{\n                const result_14 = __disposeResources(env_14);\n                if (result_14) await result_14;\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvbW9uZ29kYi1hZGFwdGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSUEsMEJBQTBCLFNBQUssSUFBSSxTQUFJLENBQUNBLHVCQUF1QixJQUFLLFNBQVVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLO0lBQy9GLElBQUlELFVBQVUsUUFBUUEsVUFBVSxLQUFLLEdBQUc7UUFDcEMsSUFBSSxPQUFPQSxVQUFVLFlBQVksT0FBT0EsVUFBVSxZQUFZLE1BQU0sSUFBSUUsVUFBVTtRQUNsRixJQUFJQztRQUNKLElBQUlGLE9BQU87WUFDUCxJQUFJLENBQUNHLE9BQU9DLFlBQVksRUFBRSxNQUFNLElBQUlILFVBQVU7WUFDOUNDLFVBQVVILEtBQUssQ0FBQ0ksT0FBT0MsWUFBWSxDQUFDO1FBQ3hDO1FBQ0EsSUFBSUYsWUFBWSxLQUFLLEdBQUc7WUFDcEIsSUFBSSxDQUFDQyxPQUFPRCxPQUFPLEVBQUUsTUFBTSxJQUFJRCxVQUFVO1lBQ3pDQyxVQUFVSCxLQUFLLENBQUNJLE9BQU9ELE9BQU8sQ0FBQztRQUNuQztRQUNBLElBQUksT0FBT0EsWUFBWSxZQUFZLE1BQU0sSUFBSUQsVUFBVTtRQUN2REgsSUFBSU8sS0FBSyxDQUFDQyxJQUFJLENBQUM7WUFBRVAsT0FBT0E7WUFBT0csU0FBU0E7WUFBU0YsT0FBT0E7UUFBTTtJQUNsRSxPQUNLLElBQUlBLE9BQU87UUFDWkYsSUFBSU8sS0FBSyxDQUFDQyxJQUFJLENBQUM7WUFBRU4sT0FBTztRQUFLO0lBQ2pDO0lBQ0EsT0FBT0Q7QUFDWDtBQUNBLElBQUlRLHFCQUFxQixTQUFLLElBQUksU0FBSSxDQUFDQSxrQkFBa0IsSUFBSyxTQUFXQyxnQkFBZTtJQUNwRixPQUFPLFNBQVVWLEdBQUc7UUFDaEIsU0FBU1csS0FBS0MsQ0FBQztZQUNYWixJQUFJYSxLQUFLLEdBQUdiLElBQUljLFFBQVEsR0FBRyxJQUFJSixpQkFBZ0JFLEdBQUdaLElBQUlh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LElBQUksQ0FBQ0UsbUJBQ0QsT0FBTztnQkFDWCxNQUFNLEVBQUUzRixHQUFHLEVBQUUsR0FBRzRGLE1BQU0sR0FBR0Q7Z0JBQ3pCLE9BQU9DO1lBQ1gsRUFDQSxPQUFPQyxNQUFNO2dCQUNUSCxPQUFPdkgsS0FBSyxHQUFHMEg7Z0JBQ2ZILE9BQU90SCxRQUFRLEdBQUc7WUFDdEIsU0FDUTtnQkFDSixNQUFNMEgsWUFBWS9ILG1CQUFtQjJIO2dCQUNyQyxJQUFJSSxXQUNBLE1BQU1BO1lBQ2Q7UUFDSjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS1kZXYtam91cm5leS8uL25vZGVfbW9kdWxlcy9AYXV0aC9tb25nb2RiLWFkYXB0ZXIvaW5kZXguanM/ZmYzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UgPSAodGhpcyAmJiB0aGlzLl9fYWRkRGlzcG9zYWJsZVJlc291cmNlKSB8fCBmdW5jdGlvbiAoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICAgICAgdmFyIGRpc3Bvc2U7XG4gICAgICAgIGlmIChhc3luYykge1xuICAgICAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgICAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChhc3luYykge1xuICAgICAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9fZGlzcG9zZVJlc291cmNlcyA9ICh0aGlzICYmIHRoaXMuX19kaXNwb3NlUmVzb3VyY2VzKSB8fCAoZnVuY3Rpb24gKFN1cHByZXNzZWRFcnJvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZW52KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZhaWwoZSkge1xuICAgICAgICAgICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IFN1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgICAgICAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICB3aGlsZSAoZW52LnN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciByZWMgPSBlbnYuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9O1xufSkodHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn0pO1xuLyoqXG4gKiA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogXCJmbGV4XCIsIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIiwgYWxpZ25JdGVtczogXCJjZW50ZXJcIiwgcGFkZGluZzogMTZ9fT5cbiAqICA8cD5PZmZpY2lhbCA8YSBocmVmPVwiaHR0cHM6Ly93d3cubW9uZ29kYi5jb21cIj5Nb25nb0RCPC9hPiBhZGFwdGVyIGZvciBBdXRoLmpzIC8gTmV4dEF1dGguanMuPC9wPlxuICogIDxhIGhyZWY9XCJodHRwczovL3d3dy5tb25nb2RiLmNvbVwiPlxuICogICA8aW1nIHN0eWxlPXt7ZGlzcGxheTogXCJibG9ja1wifX0gc3JjPVwiaHR0cHM6Ly9hdXRoanMuZGV2L2ltZy9hZGFwdGVycy9tb25nb2RiLnN2Z1wiIHdpZHRoPVwiMzBcIiAvPlxuICogIDwvYT5cbiAqIDwvZGl2PlxuICpcbiAqICMjIEluc3RhbGxhdGlvblxuICpcbiAqIGBgYGJhc2ggbnBtMnlhcm5cbiAqIG5wbSBpbnN0YWxsIEBhdXRoL21vbmdvZGItYWRhcHRlciBtb25nb2RiXG4gKiBgYGBcbiAqXG4gKiBAbW9kdWxlIEBhdXRoL21vbmdvZGItYWRhcHRlclxuICovXG5pbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gXCJtb25nb2RiXCI7XG4vKipcbiAqIFRoaXMgYWRhcHRlciB1c2VzIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC01LTIuaHRtbCN1c2luZy1kZWNsYXJhdGlvbnMtYW5kLWV4cGxpY2l0LXJlc291cmNlLW1hbmFnZW1lbnQuXG4gKiBUaGlzIGZlYXR1cmUgaXMgdmVyeSBuZXcgYW5kIHJlcXVpcmVzIHJ1bnRpbWUgcG9seWZpbGxzIGZvciBgU3ltYm9sLmFzeW5jRGlzcG9zZWAgaW4gb3JkZXIgdG8gd29yayBwcm9wZXJseSBpbiBhbGwgZW52aXJvbm1lbnRzLlxuICogSXQgaXMgYWxzbyByZXF1aXJlZCB0byBzZXQgaW4gdGhlIGB0c2NvbmZpZy5qc29uYCBmaWxlIHRoZSBjb21waWxhdGlvbiB0YXJnZXQgdG8gYGVzMjAyMmAgb3IgYmVsb3cgYW5kIGNvbmZpZ3VyZSB0aGUgYGxpYmAgb3B0aW9uIHRvIGluY2x1ZGUgYGVzbmV4dGAgb3IgYGVzbmV4dC5kaXNwb3NhYmxlYC5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGZlYXR1cmUgYW5kIHRoZSBwb2x5ZmlsbHMgaW4gdGhlIGxpbmsgYWJvdmUuXG4gKi9cbi8vIEB0cy1leHBlY3QtZXJyb3IgcmVhZCBvbmx5IHByb3BlcnR5IGlzIG5vdCBhc3NpZ25hYmxlXG5TeW1ib2wuYXN5bmNEaXNwb3NlID8/IChTeW1ib2wuYXN5bmNEaXNwb3NlID0gU3ltYm9sKFwiU3ltYm9sLmFzeW5jRGlzcG9zZVwiKSk7XG5leHBvcnQgY29uc3QgZGVmYXVsdENvbGxlY3Rpb25zID0ge1xuICAgIFVzZXJzOiBcInVzZXJzXCIsXG4gICAgQWNjb3VudHM6IFwiYWNjb3VudHNcIixcbiAgICBTZXNzaW9uczogXCJzZXNzaW9uc1wiLFxuICAgIFZlcmlmaWNhdGlvblRva2VuczogXCJ2ZXJpZmljYXRpb25fdG9rZW5zXCIsXG59O1xuZXhwb3J0IGNvbnN0IGZvcm1hdCA9IHtcbiAgICAvKiogVGFrZXMgYSBNb25nb0RCIG9iamVjdCBhbmQgcmV0dXJucyBhIHBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdCAqL1xuICAgIGZyb20ob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld09iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcIl9pZFwiKSB7XG4gICAgICAgICAgICAgICAgbmV3T2JqZWN0LmlkID0gdmFsdWUudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJ1c2VySWRcIikge1xuICAgICAgICAgICAgICAgIG5ld09iamVjdFtrZXldID0gdmFsdWUudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld09iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld09iamVjdDtcbiAgICB9LFxuICAgIC8qKiBUYWtlcyBhIHBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdCBhbmQgdHVybnMgaXQgaW50byBhIE1vbmdvREIgb2JqZWN0ICovXG4gICAgdG8ob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld09iamVjdCA9IHtcbiAgICAgICAgICAgIF9pZDogX2lkKG9iamVjdC5pZCksXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwidXNlcklkXCIpXG4gICAgICAgICAgICAgICAgbmV3T2JqZWN0W2tleV0gPSBfaWQodmFsdWUpO1xuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcImlkXCIpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbmV3T2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3T2JqZWN0O1xuICAgIH0sXG59O1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9pZChoZXgpIHtcbiAgICBpZiAoaGV4Py5sZW5ndGggIT09IDI0KVxuICAgICAgICByZXR1cm4gbmV3IE9iamVjdElkKCk7XG4gICAgcmV0dXJuIG5ldyBPYmplY3RJZChoZXgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIE1vbmdvREJBZGFwdGVyKFxuLyoqXG4gKiBUaGUgTW9uZ29EQiBjbGllbnQuXG4gKlxuICogVGhlIE1vbmdvREIgdGVhbSByZWNvbW1lbmRzIHByb3ZpZGluZyBhIG5vbi1jb25uZWN0ZWQgYE1vbmdvQ2xpZW50YCBpbnN0YW5jZSB0byBhdm9pZCB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zIGlmIHRoZSBjbGllbnQgZmFpbHMgdG8gY29ubmVjdC5cbiAqXG4gKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGFsc28gcGFzczpcbiAqIC0gQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBjb25uZWN0ZWQgYE1vbmdvQ2xpZW50YCAobm90IHJlY29tbWVuZGVkKS5cbiAqIC0gQSBmdW5jdGlvbiwgdG8gaGFuZGxlIG1vcmUgY29tcGxleCBhbmQgY3VzdG9tIGNvbm5lY3Rpb24gc3RyYXRlZ2llcy5cbiAqXG4gKiBVc2luZyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBgTW9uZ29DbGllbnQgfCBQcm9taXNlPE1vbmdvQ2xpZW50PmAsIGNvbWJpbmVkIHdpdGggYG9wdGlvbnMub25DbG9zZWAsIGNhbiBiZSB1c2VmdWwgd2hlbiB5b3Ugd2FudCBhIG1vcmUgYWR2YW5jZWQgYW5kIGN1c3RvbWl6ZWQgY29ubmVjdGlvbiBzdHJhdGVneSB0byBhZGRyZXNzIGNoYWxsZW5nZXMgcmVsYXRlZCB0byBwZXJzaXN0ZW5jZSwgY29udGFpbmVyIHJldXNlLCBhbmQgY29ubmVjdGlvbiBjbG9zdXJlLlxuICovXG5jbGllbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgY29sbGVjdGlvbnMgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgeyBmcm9tLCB0byB9ID0gZm9ybWF0O1xuICAgIGNvbnN0IGdldERiID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBfY2xpZW50ID0gYXdhaXQgKHR5cGVvZiBjbGllbnQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBjbGllbnQoKVxuICAgICAgICAgICAgOiBjbGllbnQpO1xuICAgICAgICBjb25zdCBfZGIgPSBfY2xpZW50LmRiKG9wdGlvbnMuZGF0YWJhc2VOYW1lKTtcbiAgICAgICAgY29uc3QgYyA9IHsgLi4uZGVmYXVsdENvbGxlY3Rpb25zLCAuLi5jb2xsZWN0aW9ucyB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVTogX2RiLmNvbGxlY3Rpb24oYy5Vc2VycyksXG4gICAgICAgICAgICBBOiBfZGIuY29sbGVjdGlvbihjLkFjY291bnRzKSxcbiAgICAgICAgICAgIFM6IF9kYi5jb2xsZWN0aW9uKGMuU2Vzc2lvbnMpLFxuICAgICAgICAgICAgVjogX2RiLmNvbGxlY3Rpb24oYz8uVmVyaWZpY2F0aW9uVG9rZW5zKSxcbiAgICAgICAgICAgIFtTeW1ib2wuYXN5bmNEaXNwb3NlXTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IG9wdGlvbnMub25DbG9zZT8uKF9jbGllbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIGNyZWF0ZVVzZXIoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZW52XzEgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSB0byhkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl8xLCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBkYi5VLmluc2VydE9uZSh1c2VyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSh1c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzEpIHtcbiAgICAgICAgICAgICAgICBlbnZfMS5lcnJvciA9IGVfMTtcbiAgICAgICAgICAgICAgICBlbnZfMS5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfMSA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8xKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlcihpZCkge1xuICAgICAgICAgICAgY29uc3QgZW52XzIgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzIsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5VLmZpbmRPbmUoeyBfaWQ6IF9pZChpZCkgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSh1c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzIpIHtcbiAgICAgICAgICAgICAgICBlbnZfMi5lcnJvciA9IGVfMjtcbiAgICAgICAgICAgICAgICBlbnZfMi5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfMiA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMik7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8yKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlckJ5RW1haWwoZW1haWwpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl8zID0geyBzdGFjazogW10sIGVycm9yOiB2b2lkIDAsIGhhc0Vycm9yOiBmYWxzZSB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl8zLCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuVS5maW5kT25lKHsgZW1haWwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSh1c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzMpIHtcbiAgICAgICAgICAgICAgICBlbnZfMy5lcnJvciA9IGVfMztcbiAgICAgICAgICAgICAgICBlbnZfMy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfMyA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8zKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlckJ5QWNjb3VudChwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCkge1xuICAgICAgICAgICAgY29uc3QgZW52XzQgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzQsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBkYi5BLmZpbmRPbmUocHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQpO1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLlUuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKGFjY291bnQudXNlcklkKSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfNCkge1xuICAgICAgICAgICAgICAgIGVudl80LmVycm9yID0gZV80O1xuICAgICAgICAgICAgICAgIGVudl80Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF80ID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl80KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzQpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF80O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1cGRhdGVVc2VyKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl81ID0geyBzdGFjazogW10sIGVycm9yOiB2b2lkIDAsIGhhc0Vycm9yOiBmYWxzZSB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IF9pZCwgLi4udXNlciB9ID0gdG8oZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfNSwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuVS5maW5kT25lQW5kVXBkYXRlKHsgX2lkIH0sIHsgJHNldDogdXNlciB9LCB7IHJldHVybkRvY3VtZW50OiBcImFmdGVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20ocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzUpIHtcbiAgICAgICAgICAgICAgICBlbnZfNS5lcnJvciA9IGVfNTtcbiAgICAgICAgICAgICAgICBlbnZfNS5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfNSA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfNSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF81KVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZGVsZXRlVXNlcihpZCkge1xuICAgICAgICAgICAgY29uc3QgZW52XzYgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IF9pZChpZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfNiwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgICAgICBkYi5BLmRlbGV0ZU1hbnkoeyB1c2VySWQ6IHVzZXJJZCB9KSxcbiAgICAgICAgICAgICAgICAgICAgZGIuUy5kZWxldGVNYW55KHsgdXNlcklkOiB1c2VySWQgfSksXG4gICAgICAgICAgICAgICAgICAgIGRiLlUuZGVsZXRlT25lKHsgX2lkOiB1c2VySWQgfSksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV82KSB7XG4gICAgICAgICAgICAgICAgZW52XzYuZXJyb3IgPSBlXzY7XG4gICAgICAgICAgICAgICAgZW52XzYuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0XzYgPSBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52XzYpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfNilcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0XzY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxpbmtBY2NvdW50OiBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW52XzcgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB0byhkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl83LCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBkYi5BLmluc2VydE9uZShhY2NvdW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzcpIHtcbiAgICAgICAgICAgICAgICBlbnZfNy5lcnJvciA9IGVfNztcbiAgICAgICAgICAgICAgICBlbnZfNy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfNyA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfNyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF83KVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfNztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdW5saW5rQWNjb3VudChwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCkge1xuICAgICAgICAgICAgY29uc3QgZW52XzggPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzgsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBkYi5BLmZpbmRPbmVBbmREZWxldGUocHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGFjY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfOCkge1xuICAgICAgICAgICAgICAgIGVudl84LmVycm9yID0gZV84O1xuICAgICAgICAgICAgICAgIGVudl84Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF84ID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl84KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzgpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF84O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl85ID0geyBzdGFjazogW10sIGVycm9yOiB2b2lkIDAsIGhhc0Vycm9yOiBmYWxzZSB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl85LCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZGIuUy5maW5kT25lKHsgc2Vzc2lvblRva2VuIH0pO1xuICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLlUuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElkKHNlc3Npb24udXNlcklkKSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGZyb20odXNlciksXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb246IGZyb20oc2Vzc2lvbiksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzkpIHtcbiAgICAgICAgICAgICAgICBlbnZfOS5lcnJvciA9IGVfOTtcbiAgICAgICAgICAgICAgICBlbnZfOS5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfOSA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfOSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF85KVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfOTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY3JlYXRlU2Vzc2lvbihkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfMTAgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSB0byhkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl8xMCwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgZGIuUy5pbnNlcnRPbmUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xMCkge1xuICAgICAgICAgICAgICAgIGVudl8xMC5lcnJvciA9IGVfMTA7XG4gICAgICAgICAgICAgICAgZW52XzEwLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8xMCA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMTApO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMTApXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8xMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgdXBkYXRlU2Vzc2lvbihkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfMTEgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgX2lkLCAuLi5zZXNzaW9uIH0gPSB0byhkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl8xMSwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFNlc3Npb24gPSBhd2FpdCBkYi5TLmZpbmRPbmVBbmRVcGRhdGUoeyBzZXNzaW9uVG9rZW46IHNlc3Npb24uc2Vzc2lvblRva2VuIH0sIHsgJHNldDogc2Vzc2lvbiB9LCB7IHJldHVybkRvY3VtZW50OiBcImFmdGVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20odXBkYXRlZFNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMTEpIHtcbiAgICAgICAgICAgICAgICBlbnZfMTEuZXJyb3IgPSBlXzExO1xuICAgICAgICAgICAgICAgIGVudl8xMS5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfMTEgPSBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52XzExKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzExKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfMTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGRlbGV0ZVNlc3Npb24oc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfMTIgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzEyLCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZGIuUy5maW5kT25lQW5kRGVsZXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMTIpIHtcbiAgICAgICAgICAgICAgICBlbnZfMTIuZXJyb3IgPSBlXzEyO1xuICAgICAgICAgICAgICAgIGVudl8xMi5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfMTIgPSBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52XzEyKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzEyKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNyZWF0ZVZlcmlmaWNhdGlvblRva2VuKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl8xMyA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfMTMsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGRiLlYuaW5zZXJ0T25lKHRvKGRhdGEpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzEzKSB7XG4gICAgICAgICAgICAgICAgZW52XzEzLmVycm9yID0gZV8xMztcbiAgICAgICAgICAgICAgICBlbnZfMTMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0XzEzID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl8xMyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8xMylcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0XzEzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1c2VWZXJpZmljYXRpb25Ub2tlbihpZGVudGlmaWVyX3Rva2VuKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfMTQgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzE0LCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJpZmljYXRpb25Ub2tlbiA9IGF3YWl0IGRiLlYuZmluZE9uZUFuZERlbGV0ZShpZGVudGlmaWVyX3Rva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZlcmlmaWNhdGlvblRva2VuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IF9pZCwgLi4ucmVzdCB9ID0gdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xNCkge1xuICAgICAgICAgICAgICAgIGVudl8xNC5lcnJvciA9IGVfMTQ7XG4gICAgICAgICAgICAgICAgZW52XzE0Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8xNCA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMTQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMTQpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8xNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbIl9fYWRkRGlzcG9zYWJsZVJlc291cmNlIiwiZW52IiwidmFsdWUiLCJhc3luYyIsIlR5cGVFcnJvciIsImRpc3Bvc2UiLCJTeW1ib2wiLCJhc3luY0Rpc3Bvc2UiLCJzdGFjayIsInB1c2giLCJfX2Rpc3Bvc2VSZXNvdXJjZXMiLCJTdXBwcmVzc2VkRXJyb3IiLCJmYWlsIiwiZSIsImVycm9yIiwiaGFzRXJyb3IiLCJuZXh0IiwibGVuZ3RoIiwicmVjIiwicG9wIiwicmVzdWx0IiwiY2FsbCIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInN1cHByZXNzZWQiLCJtZXNzYWdlIiwiRXJyb3IiLCJuYW1lIiwiT2JqZWN0SWQiLCJkZWZhdWx0Q29sbGVjdGlvbnMiLCJVc2VycyIsIkFjY291bnRzIiwiU2Vzc2lvbnMiLCJWZXJpZmljYXRpb25Ub2tlbnMiLCJmb3JtYXQiLCJmcm9tIiwib2JqZWN0IiwibmV3T2JqZWN0Iiwia2V5IiwiaWQiLCJ0b0hleFN0cmluZyIsInRvIiwiX2lkIiwiaGV4IiwiTW9uZ29EQkFkYXB0ZXIiLCJjbGllbnQiLCJvcHRpb25zIiwiY29sbGVjdGlvbnMiLCJnZXREYiIsIl9jbGllbnQiLCJfZGIiLCJkYiIsImRhdGFiYXNlTmFtZSIsImMiLCJVIiwiY29sbGVjdGlvbiIsIkEiLCJTIiwiViIsIm9uQ2xvc2UiLCJjcmVhdGVVc2VyIiwiZGF0YSIsImVudl8xIiwidXNlciIsImluc2VydE9uZSIsImVfMSIsInJlc3VsdF8xIiwiZ2V0VXNlciIsImVudl8yIiwiZmluZE9uZSIsImVfMiIsInJlc3VsdF8yIiwiZ2V0VXNlckJ5RW1haWwiLCJlbWFpbCIsImVudl8zIiwiZV8zIiwicmVzdWx0XzMiLCJnZXRVc2VyQnlBY2NvdW50IiwicHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQiLCJlbnZfNCIsImFjY291bnQiLCJ1c2VySWQiLCJlXzQiLCJyZXN1bHRfNCIsInVwZGF0ZVVzZXIiLCJlbnZfNSIsImZpbmRPbmVBbmRVcGRhdGUiLCIkc2V0IiwicmV0dXJuRG9jdW1lbnQiLCJlXzUiLCJyZXN1bHRfNSIsImRlbGV0ZVVzZXIiLCJlbnZfNiIsImFsbCIsImRlbGV0ZU1hbnkiLCJkZWxldGVPbmUiLCJlXzYiLCJyZXN1bHRfNiIsImxpbmtBY2NvdW50IiwiZW52XzciLCJlXzciLCJyZXN1bHRfNyIsInVubGlua0FjY291bnQiLCJlbnZfOCIsImZpbmRPbmVBbmREZWxldGUiLCJlXzgiLCJyZXN1bHRfOCIsImdldFNlc3Npb25BbmRVc2VyIiwic2Vzc2lvblRva2VuIiwiZW52XzkiLCJzZXNzaW9uIiwiZV85IiwicmVzdWx0XzkiLCJjcmVhdGVTZXNzaW9uIiwiZW52XzEwIiwiZV8xMCIsInJlc3VsdF8xMCIsInVwZGF0ZVNlc3Npb24iLCJlbnZfMTEiLCJ1cGRhdGVkU2Vzc2lvbiIsImVfMTEiLCJyZXN1bHRfMTEiLCJkZWxldGVTZXNzaW9uIiwiZW52XzEyIiwiZV8xMiIsInJlc3VsdF8xMiIsImNyZWF0ZVZlcmlmaWNhdGlvblRva2VuIiwiZW52XzEzIiwiZV8xMyIsInJlc3VsdF8xMyIsInVzZVZlcmlmaWNhdGlvblRva2VuIiwiaWRlbnRpZmllcl90b2tlbiIsImVudl8xNCIsInZlcmlmaWNhdGlvblRva2VuIiwicmVzdCIsImVfMTQiLCJyZXN1bHRfMTQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/mongodb-adapter/index.js\n");

/***/ })

};
;